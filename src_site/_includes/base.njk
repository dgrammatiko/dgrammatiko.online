<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ metadata.title }}{% if title %} - {{ title }}{% endif %}</title>
    <!-- <link rel="preload" href="/static/fonts/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_LjQbMZhKSbpUVzEEQ.woff" as="font" type="font/woff"><link rel="preload" href="/static/fonts/dgrammatiko.woff2" as="font" type="font/woff2"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#004e51" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1818" media="(prefers-color-scheme: dark)">
    {% if description %}
      {% set desc = description | safe %}
    {% else %}
      {% set desc = metadata.description | safe %}
    {% endif %}
    <meta name="description" content="{{ desc }}">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@dgrammatiko">
    {% ogimg image, page.url, metadata %}
    <meta property="og:url" content="https://{{ metadata.domain }}{{ page.url }}">
    <meta property="og:title" content="{{ metadata.title }}{% if title %} - {{ title }}{% endif %}">
    <meta property="og:description" content="{{ desc }}">
    <meta name="monetization" content="$ilp.uphold.com/29KGbUJg6Xaq">
    <link rel="manifest" href="/manifest.webmanifest?v=0">
    <link rel="apple-touch-icon" href="/static/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="any" href="/static/images/favicon-32x32.png">
    <link rel="icon" href="/static/images/safari-pinned-tab.svg">

    <link href="https://github.com/dgrammatiko" rel="me">
    <link href="https://twitter.com/dgrammatiko" rel="me">
    <link rel="webmention" href="https://webmention.io/{{ metadata.domain }}/webmention" />
    <link rel="pingback" href="https://webmention.io/{{ metadata.domain }}/xmlrpc" />
    <!--<link rel="stylesheet" href="/static/css/main.css?{{metadata.version}}"> -->
    <meta name="generator" content="Eleventy">
    <style>{{ getCSS[0]['src_assets/css/main.css'] | safe }}</style>
    <script src="/static/js/ce-theme-switcher.esm.js?v=0" type="module" async></script>
  </head>

  <body class="grid-it">
    {% include "menu.njk" %}

    {{ layoutContent | safe }}

    {% include "footer.njk" %}

    <script type="module">if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js'); }); }</script>
  </body>

</html>
