<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ metadata.title }}{% if title %} - {{ title }}{% endif %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="dark light">
    <meta name="theme-color" content="#18c9cd" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1818" media="(prefers-color-scheme: dark)">
    <link href="/static/css/main.css" rel=stylesheet >
    <script>(() => {
        let ___ls = localStorage.getItem('darkthemeswitcher');
        if (!___ls) {
          ___ls = window?.matchMedia?.('(prefers-color-scheme:dark)')?.matches.toString();
          localStorage.setItem('darkthemeswitcher', ___ls);
        }
        document.documentElement.classList.add(___ls === 'true' ? 'is-dark' : 'is-light');
      })();</script>
    <script src="/static/js/theme-toggle.js?v=0" type="module" async></script>
    {% if description %}
      {% set desc = description | safe %}
    {% else %}
      {% set desc = metadata.description | safe %}
    {% endif %}
    <meta name="description" content="{{ desc }}">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@dgrammatiko">
    {% ogimg image, page.url, metadata %}
    <meta property="og:url" content="https://{{ metadata.domain }}{{ page.url }}">
    <meta property="og:title" content="{{ metadata.title }}{% if title %} - {{ title }}{% endif %}">
    <meta property="og:description" content="{{ desc }}">
    <meta name="monetization" content="$ilp.uphold.com/29KGbUJg6Xaq">
    <link rel="manifest" href="/manifest.webmanifest?v=0">
    <link rel="icon" type="image/svg" href="/static/images/safari-pinned-tab.svg">
    <link rel="icon" type="image/png" sizes="any" href="/static/images/favicon-32x32.png">

    <link href="https://social.dgrammatiko.dev/@dgrammatiko" rel="me">
    <link href="https://github.com/dgrammatiko" rel="me">
    <link href="https://twitter.com/dgrammatiko" rel="me">
    <link rel="webmention" href="https://webmention.io/{{ metadata.domain }}/webmention">
    <link rel="pingback" href="https://webmention.io/{{ metadata.domain }}/xmlrpc">
    <meta name="generator" content="Eleventy">
  </head>
  <body>
    {% include "menu.njk" %}

    {{ content | safe }}

    {% include "footer.njk" %}

    <script type="module">window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js'); });</script>
  </body>
</html>
